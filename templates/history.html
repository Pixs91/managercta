<!doctype html>
<html>
<head>
  <title>Weekly Report History</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .history-card {
      background-color: #ffffff;
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .week-label {
      font-size: 1.25rem;
      font-weight: 500;
    }

    .top-driver {
      font-size: 0.95rem;
      color: #555;
    }

    .top-driver strong {
      font-weight: 600;
      color: #1e7e34;
    }

    .button-group {
      margin-top: 0.75rem;
    }

    .button-group a {
      margin-right: 0.5rem;
    }
  </style>
</head>
<body class="bg-light py-5">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2>📚 Istoric Raport</h2>
      <a href="/" class="btn btn-outline-secondary btn-sm">⬅️ Inapoi</a>
    </div>

    {% if weeks %}
      {% for week in weeks %}
        <div class="history-card">
          <div class="week-label">📅 {{ week.week.replace('_', ' ') }}</div>
          <div class="top-driver">
            🏆 Top 1: <strong>{{ week.top_driver }}</strong> — <strong>{{ week.top_earning }}</strong>
          </div>
          <div class="button-group">
            <a href="/summary/{{ week.week }}" class="btn btn-outline-primary btn-sm">🔍 Vizualizeaza Istoric</a>
            <a href="/download_all/{{ week.week }}" class="btn btn-success btn-sm">📦 Download ZIP</a>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <p class="text-muted">No reports uploaded yet.</p>
    {% endif %}
  </div>
</body>
</html>